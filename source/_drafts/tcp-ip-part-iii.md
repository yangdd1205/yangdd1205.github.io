---
title: 数据链路
categories: 计算机网络
tags:
  - 计算机网络
  - TCP/IP
---

> 本篇内容来源于《图解TCP/IP》第三章

数据链路层是计算机网络最基本的内容。如果没有数据链路层，基于 TCP/IP 的通信也就无法谈起。TCP/IP 中对于 OSI 参考模型的数据链路层及以下部分（物理层）未作定义。因为 TCP/IP 以这两层的功能是透明的为前提。

数据链路层的协议定义了通过通信媒介互连的设备之间传输的规范。通信媒介包括双绞线电缆、同轴电缆、光纤、电波以及红外线等介质。数据链路层处理的数据也不是单纯的 0、1 序列，该层把它们集合为一个叫做“帧”的块，然后再进行传输。



<!-- more -->


## 相关技术

### MAC 地址

MAC 地址用于识别数据链路中互连的节点。

![]( "在总线型与环路型的网络中，先暂时获取所有目标站的帧，然后再通过 MAC 寻址。如果是发给自己的就接收，如果不是就丢弃（在令牌环的这种情况下，依次转发给下一个站）")

MAC 地址长 48 比特，结果如下图所示

![]()

第 1 位：单播地址（0）/多播地址（1）
第 2 位：全局地址（0）/本地地址（1）
第 3~24 位：由 IEEE 管理并保证各厂家之间不重复
第 25~48 位：有厂家管理管理并保证产品之间不重复




### 共享介质型网络

共享型介质网络指由多个设备共享一个通信介质的一种网络。在这种方式下，设置之间使用同一个载波信道进行发送和接收。为此，基本上采用半双工通信方式，并有必要对介质进行访问控制。

共享介质型网络中有两种介质访问控制方式：一种是争用方式，另一种是令牌传递方式。

**争用方式**

争用方式（Contention）是指争夺获取数据传输的权力，也叫 CSMA（载波监听多路访问）。这种方法通常令网络中的各个站采用先到先得的方式占用信道发送数据，如果多个站同时发送帧，则会产生冲突现象。也因此导致网络拥堵与性能下降。

**令牌传递方式**

令牌传递方式是沿着令牌环发送一种叫做“令牌”的特殊报文，是控制传输的一种方式。只有获得令牌的站才能发送数据。这种方式有两个特点：一是不会有冲突，二是每个站都有通过平等循环获得令牌的机会。因此，即使网络拥堵也不会导致性能下降。


### 非共享介质型网络

非共享介质网络是指不共享介质，是对介质采取专用的一种传输控制方式。在这种方式下，网络中的每个站直连交换机，由交换机负责转发数据帧。此方式下，发送端与接收端并不共享通信介质，因此很多情况下采用全双工通信方式。

### 根据 MAC 地址转发

交换集线器是一种将非介质共享型网络中所使用的交换机用在以太网中的技术，也叫做以太网交换机。以太网交换机就是持有多个端口的网桥。它们根据数据链路层中每个帧的目标 MAC 地址，决定从哪个网络接口发送数据。这时所参考的、用以记录发送接口的表就叫做转发表（Forwarding Table）。

交换机转发方式有两种，一种是存储转发，另一种叫直通转发。

存储转发方式检查以太网数据帧末尾的 FCS 位后再进行转发。因此，可以避免发送由于冲突而被破坏的帧或噪声导致的错误帧。

直通转发方式中不需要将整个帧全部接收下来以后再进行转发。只需要得知目标地址即可开始转发。因此，它具有延迟较短的优势。但同时也不可避免地有发送错误帧的可能性。





### 环路检测技术

### VLAN

## 以太网



