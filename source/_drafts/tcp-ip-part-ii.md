---
title: TCP/IP 基础
categories: 计算机网络
tags:
  - 计算机网络
  - TCP/IP
---
> 本篇内容来源于《图解TCP/IP》第二章

上一篇介绍了网络基础知识，这一篇说说 TCP/IP 基础知识。

<!-- more -->

## TCP/IP 与 OSI 协议分层模型

<table>
    <tr>
        <th>OSI 参考模型</th>
        <th colspan="2">TCP/IP 分层模型</th>
    </tr>
    <tr>
        <td>应用层</td>
        <td rowspan="3">应用层<br>DNS、URI、HTML、HTTP<br>TLS/SSL、SMTP、POP、IMAP<br>MIME、TELNET、SSH、FTP<br>SNMP、MIB、SIP、RTP、LDAP</td>
        <td rowspan="3">应用程序</td>
    </tr>
    <tr>
        <td>表示层</td>
    </tr>
    <tr>
        <td>会话层</td>
    </tr>
    <tr>
        <td>传输层</td>
        <td>传输层<br>TCP、UDP、UDP-Lite、SCTP、DCCP</td>
        <td rowspan="2">操作系统</td>
    </tr>
    <tr>
        <td>网络层</td>
        <td>互联网层<br>ARP、IP、ICMP</td>
    </tr>
    <tr>
        <td>数据链路层</td>
        <td>网卡层</td>
        <td rowspan="2">设备驱动程序与网络接口</td>
    </tr>
    <tr>
        <td>物理层</td>
        <td>（硬件）</td>
    </tr>
</table>

### 硬件（物理层）

TCP/IP 的最底层是负责数据传输的硬件。这种硬件就相当于以太网或电话线路等物理层的设备。TCP/IP 是在网络互连的设备之间能够通信的前提下才被提出的协议。

### 网络接口层（数据链路层）

网络接口层利用以太网中的数据链路层进行通信，因此属于接口层。相当于一个“驱动程序”。

### 互联网层（网络层）

互联网层使用 IP 协议，它相当于 OSI 模型中的第 3 层网络层。IP 协议基于 IP 地址转发分包数据。

TCP/IP 分层中的互联网与传输层的功能通常由操作系统提供。尤其是路由器，它必须得实现通过互联网层转发分组数据包的功能。

**IP**

IP 是跨网络传送数据包，使整个互联网都能收到数据的协议。IP 协议使数据能够发送到地球的另一端，这期间它使用 IP 地址作为主机的标识。
IP 还隐含着数据链路层的功能。通过 IP，相互通信的主机之间不论经过怎样的底层数据链路都能实现通信。
**虽然 IP 也是分组交换的一种协议，但是它不具有重发机制**。即使分组数据包未能到达对端主机也不会重发，**属于非可靠性传输协议**。

**ICMP**

IP 数据包在发送途中一旦发生异常导致无法到达对端目标地址时，需要给发送端发送一个发生异常的通常。ICMP 就是为这一功能而制定的。它有时也被用来诊断网络的健康状况。

**ARP**

从分组数据包的 IP 地址中解析出物理地址（MAC 地址）的一种协议。

### 传输层

传输层最主要的功能就是能够让应用程序之间实现通信。计算机内部，通常同一时间运行着多个程序。为此，必须分清是哪些程序与哪些程序在进行通信。识别这些应用程序的是端口号。

**TCP**

TCP 是一种面向有连接的传输层协议。它可以保证两端通信主机之间的通信可达。TCP 能够正确处理在传输过程中丢包、传输顺序乱掉等异常情况。此外，TCP 还能够有效利用宽带，缓解网络拥堵。

然而，为了建立与断开连接，有时它需要至少 7  次的发包收包（3 次握手和 4 次挥手），导致网络流量的浪费。

**UDP**

UDP 有别于 TCP，它是一种面向无连接的传输层协议。UDP 不会关注对端是否真的收到了传送过去的数据，如果需要检查对端是否收到了分组数据包，或者对端是否连接到网络，则需要在应用程序中实现。

UDP 常用于分组数据较少或多播、广播通信以及视频通信等多媒体领域。



### 应用层

TCP/IP 的分层中，将 OSI 参考模型中的会话层、表示层和应用层的功能都集中到了应用程序中实现。这些功能有时由一个单一的程序实现，有时也可能会由多个程序实现。因此，细看 TCP/IP 的应用程序功能会发现，它不仅实现 OSI 模型中应用层的内容，还要实现会话层与表示层的功能。 

## TCP/IP 分层模型与通信模型



